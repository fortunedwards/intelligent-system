<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Course Scheduler{% endblock %}</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&family=Work+Sans%3Awght%40400%3B500%3B700%3B900"
    />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <style>
      .active-link {
        border-bottom: 2px solid #0d78f2;
        color: #0d78f2;
        font-weight: 600;
      }

      /* CSS for the collapsible sidebar */
      .sidebar {
          transition: width 0.3s ease;
      }
      .main-content {
          transition: margin-left 0.3s ease;
      }
      .sidebar.collapsed {
          width: 64px; /* A smaller width for the collapsed state */
      }
      .sidebar.collapsed .sidebar-title,
      .sidebar.collapsed .sidebar-link-text {
          display: none;
      }
      .main-content.collapsed {
          margin-left: 64px;
      }
    </style>
</head>
<body class="bg-[#f7f8f9] flex" style='font-family: "Work Sans", "Noto Sans", sans-serif;'>
    <div id="sidebar" class="sidebar flex flex-col w-64 bg-white shadow-lg h-screen fixed top-0 left-0">
        <div class="px-5 py-4 border-b border-b-[#cedbe8] min-h-20 flex items-center justify-between">
            <h1 class="sidebar-title text-[#0d141c] text-[20px] font-bold">Scheduler</h1>
            <button id="sidebar-toggle" class="text-[#49739c] hover:text-[#0d141c] focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>
            </button>
        </div>
        <div class="flex-1 overflow-y-auto pt-4">
            <nav>
                <a href="{{ url_for('index') }}" class="flex items-center gap-3 p-4 text-[#49739c] hover:bg-[#f0f2f5] {% if active_page == 'index' %}active-link{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-dashboard"><rect width="7" height="9" x="3" y="3" rx="1"/><rect width="7" height="5" x="14" y="3" rx="1"/><rect width="7" height="9" x="14" y="12" rx="1"/><rect width="7" height="5" x="3" y="16" rx="1"/></svg>
                    <span class="sidebar-link-text">Dashboard</span>
                </a>
                <a href="{{ url_for('generate_timetable_route') }}" class="flex items-center gap-3 p-4 text-[#49739c] hover:bg-[#f0f2f5] {% if active_page == 'generate_timetable' %}active-link{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-check"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="m9 16 2 2 4-4"/></svg>
                    <span class="sidebar-link-text">Generate Timetable</span>
                </a>
                <a href="{{ url_for('data_management', type='lecturers') }}" class="flex items-center gap-3 p-4 text-[#49739c] hover:bg-[#f0f2f5] {% if active_page == 'data_management' %}active-link{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-database"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M3 5V19A9 3 0 0 0 21 19V5"/><path d="M3 12A9 3 0 0 0 21 12"/></svg>
                    <span class="sidebar-link-text">Data Management</span>
                </a>
                <a href="{{ url_for('settings') }}" class="flex items-center gap-3 p-4 text-[#49739c] hover:bg-[#f0f2f5] {% if active_page == 'settings' %}active-link{% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-settings"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73 2.73l.08.15a2 2 0 0 1 0 2l-.25.43a2 2 0 0 1-1.73 1v.44a2 2 0 0 1 2 2v.18a2 2 0 0 1 1 1.73l.43.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-2.73l-.08-.15a2 2 0 0 1 0-2l.25-.43a2 2 0 0 1 1.73-1v-.44a2 2 0 0 1 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-2.73l-.08-.15a2 2 0 0 1 0-2l-.25-.43a2 2 0 0 1-1.73-1V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>
                    <span class="sidebar-link-text">Settings</span>
                </a>
            </nav>
        </div>
    </div>
    
    <div id="main-content" class="main-content flex-1 ml-64">
        {% block content %}{% endblock %}
    </div>

    <script>
        document.getElementById('sidebar-toggle').addEventListener('click', function() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('main-content');
            
            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('collapsed');
        });
    </script>
</body>
</html>